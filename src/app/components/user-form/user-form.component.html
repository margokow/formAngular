<app-card-form [infos]="infos"></app-card-form>

<h3 class="mt-3 mb-3">Ajouter un utilisateur</h3>

<form [formGroup]="info" (ngSubmit)="onSubmit()">
<div class="form-group">
  <label>
    Nom:
    <input class="form-control" type="text" formControlName="nom">
    @if (submitted && form['nom'].invalid) {
      <span>Le nom est requis</span>
    }
    @if (form['nom'].hasError('minlength')) {
      <span>Le nom doit avoir au minimum 2 lettres</span>
    }
    @if (form['nom'].hasError('pattern')) {
      <span>Le nom ne doit contenir que des lettres</span>
    }
  </label>
</div>


<div class="form-group">
  <label>
    Prénom:
    <input class="form-control" type="text" formControlName="prenom">
    @if (submitted && form['prenom'].invalid) {
      <span>Le prénom est requis</span>
    }
    @if (form['prenom'].hasError('minlength')) {
      <span>Le prénom doit avoir au minimum 2 lettres</span>
    }
    @if (form['prenom'].hasError('pattern')) {
      <span> Le prénom ne doit contenir que des lettres</span>
    }
  </label>
</div>

<div class="form-group">
  <label>
    Email:
    <input class="form-control" type="email" formControlName="email">
    @if (submitted && form['email'].invalid) {
      <span>L'email est requis</span>
    }
    @if (form['email'].hasError('minlength')) {
      <span>L'email doit avoir au minimum 2 lettres</span>
    }
    @if (form['email'].hasError('pattern')) {
      <span><br>L'email doit être valide</span>
    }
  </label>
</div>

<div class="form-group">
  <label>
    Entreprise:
    <input class="form-control" type="text" formControlName="entreprise">
    @if (submitted && form['entreprise'].invalid) {
      <span>L'entreprise est requise</span>
    }
    @if (form['entreprise'].hasError('minlength')) {
      <span>L'entreprise doit avoir au minimum 2 lettres</span>
    }
    @if (form['entreprise'].hasError('pattern')) {
      <span>L'entreprise ne doit contenir que des lettres</span>
    }
  </label>
</div>

<div class="form-group">
  <label>
    Téléphone:
    <input class="form-control" type="tel" formControlName="telephone">
    @if (submitted && form['prenom'].invalid) {
      <span>Le téléphone est requis</span>
    }
    @if (form['telephone'].hasError('minlength')) {
      <span>Le téléphone doit avoir au minimum 10 chiffres</span>
    }
    @if (form['telephone'].hasError('pattern')) {
      <span><br>Le téléphone ne doit contenir que des chiffres</span>
    }
  </label>
</div>
<button class="btn btn-primary mt-3" type="submit">Ajouter un utilisateur</button>

</form>


